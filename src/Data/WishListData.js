// WishListData.js

// Create wishlist items from your existing products data
export const wishlistItemsData = [
  // Men's Clothing Items
  {
    id: 1,
    name: "Men's Embroidered Silk Kurta",
    price: 4999,
    originalPrice: 9999,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/ethnic-set/l/4/r/s-sdes507-306-manyavar-original-imagkkzygvmvkbxr.jpeg?q=70",
    rating: 4.6,
    reviewCount: 234,
    inStock: true,
    brand: "Manyavar",
    addedDate: '2024-01-15',
    category: 'Men Clothing',
    size: 'M',
    color: 'Blue',
    productId: 1,
    gender: 'male',
    subCategory: 'kurtas'
  },
  {
    id: 2,
    name: "Cotton Printed Kurta",
    price: 1499,
    originalPrice: 2499,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/kurta/x/y/b/xl-mx-em-001-maroon-kurta-koshin-original-imahc7nw5azzxyhf.jpeg?q=70",
    rating: 4.3,
    reviewCount: 189,
    inStock: true,
    brand: "FabIndia",
    addedDate: '2024-01-12',
    category: 'Men Clothing',
    size: 'L',
    color: 'Maroon',
    productId: 2,
    gender: 'male',
    subCategory: 'kurtas'
  },
  {
    id: 3,
    name: "Slim Fit Jeans",
    price: 1999,
    originalPrice: 3999,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/jean/p/a/x/32-kjo-91017-slm-slmft-bk-killer-original-imahdfj74ekqybqb.jpeg?q=70",
    rating: 4.4,
    reviewCount: 312,
    inStock: true,
    brand: "Levi's",
    addedDate: '2024-01-10',
    category: 'Men Clothing',
    size: '32',
    color: 'Black',
    productId: 31,
    gender: 'male',
    subCategory: 'jeans'
  },
  {
    id: 4,
    name: "Cotton Regular T-Shirt",
    price: 599,
    originalPrice: 1199,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/t-shirt/e/x/r/xxl-white-t72-emerald-apparel-trading-original-imahed7g6hagmd5g.jpeg?q=70",
    rating: 4.2,
    reviewCount: 167,
    inStock: true,
    brand: "Puma",
    addedDate: '2024-01-08',
    category: 'Men Clothing',
    size: 'L',
    color: 'White',
    productId: 56,
    gender: 'male',
    subCategory: 'tshirts'
  },
  {
    id: 5,
    name: "Formal Cotton Shirt",
    price: 1299,
    originalPrice: 2599,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/shirt/i/n/t/l-wh-pl-le-1-clyver-original-imahewa6h2k5xfyp.jpeg?q=70",
    rating: 4.5,
    reviewCount: 278,
    inStock: true,
    brand: "Van Heusen",
    addedDate: '2024-01-05',
    category: 'Men Clothing',
    size: 'L',
    color: 'White',
    productId: 76,
    gender: 'male',
    subCategory: 'shirts'
  },

  // Women's Clothing Items
  {
    id: 7,
    name: "Embroidered Anarkali Kurta",
    price: 1799,
    originalPrice: 3599,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/kurta/v/7/c/s-lakhnawi-rose-romj-original-imahfyfk4dyfh4y2.jpeg?q=70",
    rating: 4.7,
    reviewCount: 423,
    inStock: true,
    brand: "Biba",
    addedDate: '2024-01-14',
    category: 'Women Clothing',
    size: 'M',
    color: 'Pink',
    productId: 16,
    gender: 'female',
    subCategory: 'kurtis'
  },
  {
    id: 8,
    name: "Skinny Fit Jeans",
    price: 1299,
    originalPrice: 2599,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/jean/4/v/i/32-women-single-button-high-rise-skinny-fit-stretchable-jeans-original-imagryduunhhqx4p.jpeg?q=70",
    rating: 4.4,
    reviewCount: 289,
    inStock: true,
    brand: "H&M",
    addedDate: '2024-01-11',
    category: 'Women Clothing',
    size: '28',
    color: 'Black',
    productId: 46,
    gender: 'female',
    subCategory: 'jeans'
  },
  {
    id: 9,
    name: "Summer Floral Dress",
    price: 1499,
    originalPrice: 2999,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/dress/k/y/d/s-ds00bk1111-zummer-original-imahghudmv5ffufe.jpeg?q=70",
    rating: 4.6,
    reviewCount: 356,
    inStock: true,
    brand: "H&M",
    addedDate: '2024-01-09',
    category: 'Women Clothing',
    size: 'M',
    color: 'Multicolor',
    productId: 86,
    gender: 'female',
    subCategory: 'dresses'
  },
  {
    id: 10,
    name: "Casual Summer Top",
    price: 799,
    originalPrice: 1599,
    image: "https://rukminim2.flixcart.com/image/612/612/l3q7jww0/top/r/y/e/xl-flipkart-top-eva-yellow-dream-beauty-fashion-original-images739yxdwqgt.jpeg?q=70",
    rating: 4.2,
    reviewCount: 198,
    inStock: true,
    brand: "Zara",
    addedDate: '2024-01-07',
    category: 'Women Clothing',
    size: 'M',
    color: 'Yellow',
    productId: 66,
    gender: 'female',
    subCategory: 'tops'
  },
  {
    id: 11,
    name: "Silk Kanchipuram Saree",
    price: 4999,
    originalPrice: 9999,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/sari/7/o/k/free-nc71-reva-red-umaa-unstitched-original-imahycscxnrzn7bv.jpeg?q=70",
    rating: 4.8,
    reviewCount: 512,
    inStock: true,
    brand: "Nalli",
    addedDate: '2024-01-04',
    category: 'Women Clothing',
    size: 'Free Size',
    color: 'Red',
    productId: 96,
    gender: 'female',
    subCategory: 'sarees'
  },
  {
    id: 13,
    name: "Women's Oversized Sweater",
    price: 1199,
    originalPrice: 2399,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/sweater/t/2/f/m-swt000o5016-street-9-original-imagtnxgds37gs86.jpeg?q=70",
    rating: 4.3,
    reviewCount: 178,
    inStock: true,
    brand: "H&M",
    addedDate: '2024-01-02',
    category: 'Women Clothing',
    size: 'M',
    color: 'Pink',
    productId: 117,
    gender: 'female',
    subCategory: 'sweaters'
  },
  {
    id: 15,
    name: "Women Embroidered Anarkali Suit",
    price: 2599,
    originalPrice: 5199,
    image: "https://rukminim2.flixcart.com/image/612/612/xif0q/salwar-kurta-dupatta/z/9/y/s-30271855-sangria-original-imahaeysbqgnafnz.jpeg?q=70",
    rating: 4.7,
    reviewCount: 389,
    inStock: true,
    brand: "Biba",
    addedDate: '2023-12-25',
    category: 'Women Clothing',
    size: 'M',
    color: 'Royal Blue',
    productId: 145,
    gender: 'female',
    subCategory: 'ethnic-wear'
  }
];

// Utility functions for wishlist
export const getWishlistStats = (items) => {
  const totalValue = items.reduce((sum, item) => sum + item.price, 0);
  const originalTotalValue = items.reduce((sum, item) => sum + (item.originalPrice || item.price), 0);
  const totalSavings = originalTotalValue - totalValue;

  return {
    totalItems: items.length,
    inStock: items.filter(item => item.inStock).length,
    outOfStock: items.filter(item => !item.inStock).length,
    totalValue,
    totalSavings,
    categories: [...new Set(items.map(item => item.category))],
    mensItems: items.filter(item => item.gender === 'male').length,
    womensItems: items.filter(item => item.gender === 'female').length
  };
};

export const sortWishlistItems = (items, sortBy) => {
  const sortedItems = [...items];
  
  switch (sortBy) {
    case 'recent':
      return sortedItems.sort((a, b) => new Date(b.addedDate) - new Date(a.addedDate));
    case 'price-low':
      return sortedItems.sort((a, b) => a.price - b.price);
    case 'price-high':
      return sortedItems.sort((a, b) => b.price - a.price);
    case 'name':
      return sortedItems.sort((a, b) => a.name.localeCompare(b.name));
    case 'category':
      return sortedItems.sort((a, b) => a.category.localeCompare(b.category));
    case 'rating':
      return sortedItems.sort((a, b) => b.rating - a.rating);
    case 'discount':
      return sortedItems.sort((a, b) => {
        const discountA = getDiscountPercentage(a.price, a.originalPrice);
        const discountB = getDiscountPercentage(b.price, b.originalPrice);
        return discountB - discountA;
      });
    default:
      return sortedItems;
  }
};

export const filterWishlistByCategory = (items, category) => {
  if (category === 'all') return items;
  return items.filter(item => item.category === category);
};

export const filterWishlistByGender = (items, gender) => {
  if (gender === 'all') return items;
  return items.filter(item => item.gender === gender);
};

export const filterWishlistBySubCategory = (items, subCategory) => {
  if (subCategory === 'all') return items;
  return items.filter(item => item.subCategory === subCategory);
};

export const filterWishlistByAvailability = (items, availability) => {
  if (availability === 'all') return items;
  if (availability === 'in-stock') return items.filter(item => item.inStock);
  if (availability === 'out-of-stock') return items.filter(item => !item.inStock);
  return items;
};

export const getDiscountPercentage = (price, originalPrice) => {
  if (!originalPrice || originalPrice <= price) return 0;
  return Math.round(((originalPrice - price) / originalPrice) * 100);
};

export const formatCurrency = (amount) => {
  return new Intl.NumberFormat('en-IN', {
    style: 'currency',
    currency: 'INR',
    minimumFractionDigits: 0,
    maximumFractionDigits: 0
  }).format(amount);
};

// Clothing specific wishlist functions
export const getMensClothingItems = (items) => {
  return items.filter(item => item.gender === 'male');
};

export const getWomensClothingItems = (items) => {
  return items.filter(item => item.gender === 'female');
};

export const getAvailableSizesFromWishlist = (items) => {
  const sizes = new Set();
  items.forEach(item => {
    if (item.size) sizes.add(item.size);
  });
  return Array.from(sizes).sort();
};

export const getAvailableColorsFromWishlist = (items) => {
  const colors = new Set();
  items.forEach(item => {
    if (item.color) colors.add(item.color);
  });
  return Array.from(colors).sort();
};

export const getSubCategoriesFromWishlist = (items) => {
  const subCategories = new Set();
  items.forEach(item => {
    if (item.subCategory) subCategories.add(item.subCategory);
  });
  return Array.from(subCategories).sort();
};

export const getBrandsFromWishlist = (items) => {
  const brands = new Set();
  items.forEach(item => {
    if (item.brand) brands.add(item.brand);
  });
  return Array.from(brands).sort();
};

// Search and filter functions
export const searchWishlistItems = (items, searchTerm) => {
  if (!searchTerm) return items;
  const term = searchTerm.toLowerCase();
  return items.filter(item => 
    item.name.toLowerCase().includes(term) ||
    item.brand.toLowerCase().includes(term) ||
    item.category.toLowerCase().includes(term) ||
    item.subCategory.toLowerCase().includes(term) ||
    item.color.toLowerCase().includes(term)
  );
};

export const filterWishlistByMultipleCriteria = (items, filters) => {
  let filteredItems = [...items];

  if (filters.category && filters.category !== 'all') {
    filteredItems = filteredItems.filter(item => item.category === filters.category);
  }

  if (filters.gender && filters.gender !== 'all') {
    filteredItems = filteredItems.filter(item => item.gender === filters.gender);
  }

  if (filters.subCategory && filters.subCategory !== 'all') {
    filteredItems = filteredItems.filter(item => item.subCategory === filters.subCategory);
  }

  if (filters.availability && filters.availability !== 'all') {
    filteredItems = filterWishlistByAvailability(filteredItems, filters.availability);
  }

  if (filters.brand && filters.brand !== 'all') {
    filteredItems = filteredItems.filter(item => item.brand === filters.brand);
  }

  if (filters.minPrice) {
    filteredItems = filteredItems.filter(item => item.price >= filters.minPrice);
  }

  if (filters.maxPrice) {
    filteredItems = filteredItems.filter(item => item.price <= filters.maxPrice);
  }

  if (filters.size && filters.size !== 'all') {
    filteredItems = filteredItems.filter(item => item.size === filters.size);
  }

  if (filters.color && filters.color !== 'all') {
    filteredItems = filteredItems.filter(item => item.color === filters.color);
  }

  return filteredItems;
};

// Price range utilities
export const getPriceRangeFromWishlist = (items) => {
  if (items.length === 0) return { min: 0, max: 0 };
  
  const prices = items.map(item => item.price);
  return {
    min: Math.min(...prices),
    max: Math.max(...prices)
  };
};

// Export all utility functions together
export const wishlistUtils = {
  getWishlistStats,
  sortWishlistItems,
  filterWishlistByCategory,
  filterWishlistByGender,
  filterWishlistBySubCategory,
  filterWishlistByAvailability,
  filterWishlistByMultipleCriteria,
  getDiscountPercentage,
  formatCurrency,
  getMensClothingItems,
  getWomensClothingItems,
  getAvailableSizesFromWishlist,
  getAvailableColorsFromWishlist,
  getSubCategoriesFromWishlist,
  getBrandsFromWishlist,
  searchWishlistItems,
  getPriceRangeFromWishlist
};

// Default export
export default wishlistItemsData;